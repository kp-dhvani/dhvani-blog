<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Synthesising a kick drum sound</title>
		<link href="../../style.css" rel="stylesheet" />
	</head>
	<body class="font-mono">
		<load src="../../shared/navbar.html" />
		<main class="flex justify-center mx-5 md:mx-16 rounded-lg">
			<div class="p-6 w-full">
				<section>
					<h2
						class="text-base md:text-xl lg:text-2xl mb-5 border border-black rounded-lg p-2"
					>
						Synthesising a kick drum sound
						<span class="text-xs">Updated: 12<sup>th</sup> January 2025</span>
					</h2>
					<p class="underline mb-2">A brief history of drums</p>
					<p>
						Drums play an important role in the rhythmic structure of every
						genre of music. From Kettle drums, Bass drums, Snare drums, etc. in
						the Western music to Tabla, Dhol, Mridangam, Dholak, etc. in the
						Indian music to the Persian Zerbaghali to Tanggu in China, drums
						have existed in all major civilisations in one form or the other for
						musical and non-musical purposes. First earliest evidence of drums
						comes from the idiophones (produce sound via the vibration of the
						entire instrument) made from mammoth bones found in present day
						Belgium dating back to 70,000BCE. The earliest archaeological
						evidence comes from China dating back to the Neolithic period around
						5500BCE where drums were made out of hollow wood logs and covered
						with alligator skin. There is evidence of drums around the same time
						in Mesopotamia where they played an important role in the religious
						affairs of the Sumerians. The first metal drum dates back to Bronze
						age in present day Vietnam. Drums can be seen in the sculptural
						artwork of Greece and Rome indicating the use of the instrument for
						cultural and military endeavours. The history of drums to Europe
						through Greece trace their roots to Danbara from ancient Persia
						imported with the name Tympanon. It was also know as Tympanum in the
						Roman culture. In Europe Tabor a portable snare drum played either
						with one hand or wit two drumsticks emerged as the prominent
						percussion instrument. The Renaissance witnessed further development
						in percussion particularly in military applications. In European
						armies drum became the instrument for issuing commands, coordinating
						movements, etc. The industrial revolution brought a new wave of
						changes in the drums with new materials such as metals and synthetic
						skins. William Ludwig's invention of base drum pedal in 1909
						revolutionised percussive performance. This paved the way for the
						development of the modern drum kit which became popular across
						various music genres such as Jazz, rock, etc.
					</p>
					<p class="my-2 underline">Physics of percussion</p>
					<p>
						The word percussion comes from the Latin word
						<span class="italic">percussionem</span>, which means â€œa striking, a
						blow". A percussion instrument is one that produces a sound when a
						part of it is struck. Here are four primary percussion groups
					</p>
					<ol class="list-decimal pl-8 space-y-2 mb-5">
						<li>
							<span>Membranophones</span>(commonly called drums): these produce
							the sound through a membrane/skin. eg. timpani, snare drum, bass
							drum, tabla, etc.
						</li>
						<li>
							<span>Idiophones</span>: instruments that create sound through the
							vibration of the entire body. e.g xylophones, glockenspiels,
							cymbals, hi-hats, gongs, etc. Material and construction determine
							the pitch and timbre.
						</li>
						<li>
							<span>Aerophones</span> (air percussion): instruments that produce
							sound through air vibration. eg. whistles, sirens, some types of
							organ pipes, wind instrument family, etc.
						</li>
						<li>
							<span>Chordophones</span> (string percussion): instruments that
							produce sound through struck strings. eg. primarily the piano
							family
						</li>
					</ol>
					<p>
						You can further subdivide the membranophones and idiophones based on
						pitched and un-pitched sounds. pitched membranophones include tabla,
						timpani, talking drum from West Africa, etc. unoitched
						membranophones include snare drum, bass drum, tom-toms, etc.
						<br />
						pitched idiophones include bells, xylophones, glockenspiel, etc.
						unpitched idiophones include cymbals, hi-hats, triangle, wood
						blocks, tambourine, etc.
						<br />
						Further subdivision is possible based on the type of construction of
						the instrument.
					</p>
				</section>

				<ul class="list-disc pl-8 space-y-2 mb-5">
					<li>
						single headed instruments have a single membrane with air pressure
						on each side. eg. cymbals, toms and conga.
					</li>
					<li>
						double headed have two membranes with air trapped between the two
						membranes. eg. snare drum, bass drum, etc.
					</li>
				</ul>
				<p>
					Various such subdivisions are possible for percussion instruments.
					<br />
					<br />
					Consider this a vibrating string has one dimension: its length, it can
					only vibrate in one dimension across the length of the string. Other
					properties such as its density and tension affect it but in a 3D world
					it has only one primary dimension. Now compare this with a drum. It
					has a circular (typically) membrane that is stretched with tension at
					all points. Unlike a string a drum has 2 dimensions: both along the
					surface and perpendicular to that surface. You can measure how long
					and wide the surface is. A membrane can vibrate in multiple modes
					because it is two dimensional and each point can vibrate in different
					ways depending on the combination of its radial and tangential
					displacements. In terms of a vibrating membrane modes of vibration are
					the distinct patterns of deformation that occur at different
					frequencies. These patterns arise due to the standing waves across the
					surface of the membrane. Each mode has a unique spatial pattern and
					the number of nodes points where the displacement is zero and
					antinodes points where displacement is at maximum varies. [should i go
					into the superposition principle here?]
					<br />
					<br />
					Let's say you hit the drum exactly in the center. It will vibrate up
					and down just like the fundamental frequency of a vibrating string
					called w<sub>01</sub> mode of the membrane. The modes of vibration can
					be described as w<sub>m,n</sub> where m is the radial mode and n is
					the circular mode. In radial mode the vibration patterns consist of
					lines running outwards from the center to the rim along the diameter
					lines. The membrane is divided into wedge-shaped sections by these
					nodal lines, with adjacent sections moving in opposite directions. The
					number of nodal diameters defines the mode number, eg.
					w<sub>3,0</sub>.
				</p>
				<div
					class="vibration-mode mb-10 mr-0 md:mr-4 w-full flex justify-center"
				>
					<canvas
						id="w30-vibration-mode"
						height="200"
						class="max-sm:w-full my-3"
					></canvas>
				</div>
				<p>
					In circular mode of vibration the displacement patterns form
					concentric circles around the radius. The membrane moves up and down
					in rings, with adjacent rings moving in opposite directions. These
					modes are characterized by the number of nodal circles (where there is
					no movement) between the center and the edge of the membrane. In the
					diagram below the shaded part moves up and unshaded part moves down,
					eg. w<sub>0,2</sub>.
				</p>
				<div
					class="vibration-mode mb-10 mr-0 md:mr-4 w-full flex justify-center"
				>
					<canvas
						id="w02-vibration-mode"
						height="200"
						class="max-sm:w-full my-3"
					></canvas>
				</div>
				<p>
					When you strike membrane in the center it vibrates in the fundamental
					mode which is w<sub>0,1</sub>. In this mode the membrane moves up and
					down like a string vibrating at its fundamental frequency. Maximum
					displacement occurs at the center of the membrane and least
					displacement at places it is fixed near the rim. Since it's a membrane
					you can't put a finger in the center to generate only second
					harmonics. Now placing your finger half the way from center of the
					drum will land you on an incorrect position, remember it's a membrane.
					The zero points of a string with the relation 1/integer does not work
					for membranes. Using something called a Bessel function you can
					compute the zero points of a membrane and the first zero point or the
					first overtone is 42.6% of the distance from the center to the rim. So
					at about 42.6% of the way from the center to the rim, you hit the
					first zero point a point where there's no displacement. The frequency
					of the vibrating mode in this way called the w<sub>02</sub>
					mode is 2.296 times the fundamental.
				</p>
				<div class="flex flex-col items-center justify-center mt-5">
					<div class="w-full max-w-4xl">
						<svg
							viewBox="0 0 350 150"
							xmlns="http://www.w3.org/2000/svg"
							class="w-full h-full border border-accent-color"
							preserveAspectRatio="xMidYMid meet"
						>
							<text x="170" y="10" text-anchor="middle" font-size="6">
								fundamental mode of vibration for a drum
							</text>
							<!-- Side View Label -->
							<text x="75" y="60" text-anchor="middle" font-size="6">
								Side View
							</text>

							<!-- Equilibrium position line -->
							<line
								x1="25"
								y1="80"
								x2="125"
								y2="80"
								stroke="gray"
								stroke-dasharray="4"
							/>

							<!-- Maximum displacement curves -->
							<path
								d="M 25,80 Q 75,55 125,80"
								fill="none"
								stroke="blue"
								stroke-width="1.5"
							/>
							<path
								d="M 25,80 Q 75,105 125,80"
								fill="none"
								stroke="red"
								stroke-width="1.5"
							/>

							<!-- Top View Label -->
							<text x="250" y="30" text-anchor="middle" font-size="6">
								Top View
							</text>

							<!-- Outer boundary circle -->
							<circle
								cx="250"
								cy="80"
								r="40"
								fill="none"
								stroke="gray"
								stroke-width="1.5"
							/>

							<!-- Shading to indicate amplitude -->
							<circle cx="250" cy="80" r="40" fill="#FF6577" opacity="0.1" />
							<circle cx="250" cy="80" r="30" fill="#FF6577" opacity="0.1" />
							<circle cx="250" cy="80" r="20" fill="#FF6577" opacity="0.1" />

							<!-- Maximum displacement indicator -->
							<circle cx="250" cy="80" r="2.5" fill="red" />

							<!-- Labels -->
							<text x="75" y="100" text-anchor="middle" font-size="6">
								Maximum displacement up/down
							</text>
							<text x="250" y="135" text-anchor="middle" font-size="6">
								Amplitude decreases from center
							</text>
						</svg>
					</div>
				</div>
				<p>For the next harmonic the mode of vibration is w<sub>03</sub>.</p>
				<div
					class="vibration-mode mb-10 mr-0 md:mr-4 w-full flex justify-center"
				>
					<canvas
						id="w03-vibration-mode"
						height="200"
						class="max-sm:w-full my-3"
					></canvas>
				</div>
				<p>
					Some modes of vibration like w<sub>1,1</sub>, w<sub>1,2</sub>,
					w<sub>1,3</sub>, w<sub>3,1</sub>, w<sub>4,1</sub>
				</p>
				<div class="vibration-mode w-full">
					<div
						class="flex lg:flex-row flex-col items-center justify-center gap-4"
					>
						<canvas
							id="w11-vibration-mode"
							height="200"
							class="max-sm:w-full my-3"
						></canvas>
						<canvas
							id="w12-vibration-mode"
							height="200"
							class="max-sm:w-full my-3"
						></canvas>
						<canvas
							id="w13-vibration-mode"
							height="200"
							class="max-sm:w-full my-3"
						></canvas>
						<canvas
							id="w31-vibration-mode"
							height="200"
							class="max-sm:w-full my-3"
						></canvas>
						<canvas
							id="w41-vibration-mode"
							height="200"
							class="max-sm:w-full my-3"
						></canvas>
					</div>
				</div>
				<p>This is how the modes of vibration look like in 3D for a membrane</p>
				<div class="flex lg:flex-row flex-col items-center gap-4">
					<figure class="flex flex-col items-center">
						<picture>
							<img
								src="/assets/zero_nodes.gif"
								alt="Zero nodes for a vibrating membrane in 3D"
								loading="lazy"
							/>
						</picture>
						<figcaption class="text-center mt-2">Zero nodes</figcaption>
					</figure>

					<figure class="flex flex-col items-center">
						<picture>
							<img
								src="/assets/two_nodes.gif"
								alt="Two nodes for a vibrating membrane in 3D"
								loading="lazy"
							/>
						</picture>
						<figcaption class="text-center mt-2">Two nodes</figcaption>
					</figure>

					<figure class="flex flex-col items-center">
						<picture>
							<img
								src="/assets/four_nodes.gif"
								alt="Four nodes for a vibrating membrane in 3D"
								loading="lazy"
							/>
						</picture>
						<figcaption class="text-center mt-2">Four nodes</figcaption>
					</figure>
				</div>
				<p class="my-3">
					Using some fancy math we can calculate the frequency of the modes and
					we get the following mode and frequency relation:
				</p>
				<div class="flex justify-center mb-5">
					<table
						class="text-sm text-center border border-accent-color table-auto"
					>
						<thead class="bg-gray-50">
							<tr>
								<th scope="col" class="px-6 py-3 border border-accent-color">
									Mode (m,n)
								</th>
								<th
									scope="col"
									class="px-6 py-3 border border-accent-color text-center"
								>
									Relative Frequency
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(0,1)
								</td>
								<td class="border border-accent-color text-center">1.00</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(1,1)
								</td>
								<td class="border border-accent-color text-center">1.59</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(2,1)
								</td>
								<td class="border border-accent-color text-center">2.14</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(0,2)
								</td>
								<td class="border border-accent-color text-center">2.30</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(3,1)
								</td>
								<td class="border border-accent-color text-center">2.65</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(1,2)
								</td>
								<td class="border border-accent-color text-center">2.92</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(4,1)
								</td>
								<td class="border border-accent-color text-center">3.16</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(2,2)
								</td>
								<td class="border border-accent-color text-center">3.50</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(0,3)
								</td>
								<td class="border border-accent-color text-center">3.60</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(5,1)
								</td>
								<td class="border border-accent-color text-center">3.65</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(3,2)
								</td>
								<td class="border border-accent-color text-center">4.06</td>
							</tr>
							<tr>
								<td
									class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
								>
									(6,1)
								</td>
								<td class="border border-accent-color text-center">4.15</td>
							</tr>
						</tbody>
					</table>
				</div>
				<p class="mb-2">
					Compared to a vibrating string the frequencies are not harmonically
					related to the fundamental instead they are enharmonic with respect to
					the fundamental frequency. Just like a vibrating string the membrane
					of a drum vibrates in number of its different modes simultaneously.
					They all will have different amplitudes and all decay at different
					rates. This makes the sound from a drum so complex and almost
					impossible to emulate using different waves from a simple harmonic
					oscillator. The membrane generates more harmonics and they are
					clustered in an uneven manner unlike the regular spaced overtones in
					the simple harmonic oscillator. This makes the drum sound atonal and
					stops us from perceiving a particular pitch and tone of the sound.
					Also, no matter how carefully you adjust the membrane it will always
					have slight variations in the tightness and tension across the
					surface! In an ideal linear system the frequency of the vibration
					would stay the same regardless of how hard you hit the drum but drums
					don't behave this way. When you hit a drum harder they produce a
					higher pitch. This means the fundamental frequency increases with the
					large displacement of the drumhead when you strike a drum harder.
					<span class="italic"
						>The fundamental frequency is related to the displacement of the
						membrane in some way.</span
					>
				</p>
				<p>
					When a membrane vibrates in a vacuum it needs to just overcome its
					internal elastic forces but vibrating in air requires extra work to
					push and pull air molecules around it. This is similar to how it takes
					more effort to move hands in water than just in air because water
					provides more resistance. The mass of air around the membrane acts as
					a weight for the membrane to move and it does not move in sync with
					the membrane. The membrane looses energy moving this mass of air. But
					the membrane air system in a bass drum have resonant frequencies that
					make up for this loss of energy. These resonant frequencies are higher
					than the fundamental. The mass of air that each mode of vibration has
					to move is different across all the modes. So when vibrating higher
					frequency modes of vibration are moving a small subset of the mass of
					the air and hence vibrate in a completely different way compared to
					the fundamental. This uneven interaction of the membrane with its
					surrounding air shifts the higher frequencies of the drum by some
					value and they becomes somewhat less harmonic with the fundamental.
				</p>
				<figure class="flex flex-col items-center justify-center my-10 w-full">
					<picture class="flex justify-center w-full flex-col">
						<img
							src="/assets/bass_drum_anatomy.jpg"
							alt="anatomy of a bass drum"
							class="h-auto md:w-1/2 mx-auto"
							loading="lazy"
						/>
						<figcaption class="text-center mt-2">
							Anatomy of a bass drum
						</figcaption>
					</picture>
				</figure>
				<p>
					The head that you strike is called the drum head of the batter head
					and the other is resonating or carry head. With the air trapped inside
					2 membranes a drum bass has 3 coupled resonators. In the tables below
					I have modal frequencies of a standard 22 inch bass drum with the same
					tension across both the membranes. Due to the trapped air the
					membrane's vibrations are affected in such a way that we see 2
					frequencies each for the first 2 modes. [need more research on why
					there are 2 frequencies for the first two modes] If we remove the
					extra modes we see that they are somewhat harmonic but not completely.
					The frequencies at the upper partials are not integer multiples of the
					fundamental but in fact they are frequency shifted by 7Hz. This shift
					comes from both the membranes having the same tension. Here we are
					assuming that both the membranes have the same tension but bass drums
					are rarely tuned like that. Usually the carry head (resonator head) is
					tuned at much lower tension. So table 5 shows the frequencies of a
					dual membrane with the carry head de-tuned with the batter head. Once
					you detune the heads the frequency shift of 7Hz disappears and what we
					get is a almost harmonic partials with respect to the fundamental.
				</p>
				<div
					class="overflow-x-auto my-5 flex flex-col lg:flex-row lg:flex-wrap gap-4 p-4"
				>
					<div class="w-full lg:w-[calc(50%-1rem)] min-w-[300px]">
						<table
							class="text-sm text-left border border-accent-color table-auto"
						>
							<thead class="bg-gray-50">
								<tr>
									<th scope="col" class="px-6 py-3 border border-accent-color">
										Mode
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Frequency (Hz)
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Harmonic Ratio
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										0,1
									</td>
									<td class="border border-accent-color text-center">
										50, 118
									</td>
									<td class="border border-accent-color text-center">1.00</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										1,1
									</td>
									<td class="border border-accent-color text-center">86, 93</td>
									<td class="border border-accent-color text-center">1.86</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										2,1
									</td>
									<td class="border border-accent-color text-center">136</td>
									<td class="border border-accent-color text-center">2.72</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										3,1
									</td>
									<td class="border border-accent-color text-center">182</td>
									<td class="border border-accent-color text-center">3.64</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										4,1
									</td>
									<td class="border border-accent-color text-center">225</td>
									<td class="border border-accent-color text-center">4.50</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										5,1
									</td>
									<td class="border border-accent-color text-center">273</td>
									<td class="border border-accent-color text-center">5.46</td>
								</tr>
							</tbody>
							<caption class="text-sm font-medium mb-2 text-left">
								Table 2: The modal frequencies of a dual membrane bass drum
							</caption>
						</table>
					</div>
					<!-- Second Table -->
					<div class="w-full lg:w-[calc(50%-1rem)] min-w-[300px]">
						<table
							class="text-sm text-left border border-accent-color table-auto"
						>
							<thead class="bg-gray-50">
								<tr>
									<th scope="col" class="px-6 py-3 border border-accent-color">
										Frequency (Hz)
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Difference (Hz)
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Harmonic Ratio
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										50
									</td>
									<td class="border border-accent-color text-center"></td>
									<td class="border border-accent-color text-center">1.00</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										93
									</td>
									<td class="border border-accent-color text-center">+43</td>
									<td class="border border-accent-color text-center">1.86</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										136
									</td>
									<td class="border border-accent-color text-center">+43</td>
									<td class="border border-accent-color text-center">2.72</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										182
									</td>
									<td class="border border-accent-color text-center">+46</td>
									<td class="border border-accent-color text-center">3.64</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										225
									</td>
									<td class="border border-accent-color text-center">+43</td>
									<td class="border border-accent-color text-center">4.50</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										273
									</td>
									<td class="border border-accent-color text-center">+48</td>
									<td class="border border-accent-color text-center">5.46</td>
								</tr>
							</tbody>
							<caption class="text-sm font-medium mb-2 text-left">
								Table 3: The modal series
							</caption>
						</table>
					</div>

					<!-- Third Table -->
					<div class="w-full lg:w-[calc(50%-1rem)] min-w-[300px]">
						<table
							class="text-sm text-left border border-accent-color table-auto"
						>
							<thead class="bg-gray-50">
								<tr>
									<th scope="col" class="px-6 py-3 border border-accent-color">
										Frequencies from table 3 minus 7Hz (Hz)
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Harmonic Ratio
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										43
									</td>
									<td class="border border-accent-color text-center">1</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										86
									</td>
									<td class="border border-accent-color text-center">2</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										129
									</td>
									<td class="border border-accent-color text-center">3</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										175
									</td>
									<td class="border border-accent-color text-center">4.07</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										218
									</td>
									<td class="border border-accent-color text-center">5.07</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										266
									</td>
									<td class="border border-accent-color text-center">6.19</td>
								</tr>
							</tbody>
							<caption class="text-sm font-medium mb-2 text-left">
								Table 4: The modified series is almost precisely harmonic
							</caption>
						</table>
					</div>
					<div class="w-full lg:w-[calc(50%-1rem)] min-w-[300px]">
						<table
							class="text-sm text-left border border-accent-color table-auto"
						>
							<thead class="bg-gray-50">
								<tr>
									<th scope="col" class="px-6 py-3 border border-accent-color">
										Mode
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Frequency (Hz)
									</th>
									<th
										scope="col"
										class="px-6 py-3 border border-accent-color text-center"
									>
										Harmonic ratio relative to 46Hz
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										0,1
									</td>
									<td class="border border-accent-color text-center">44</td>
									<td class="border border-accent-color text-center">0.96</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										1,1
									</td>
									<td class="border border-accent-color text-center">91</td>
									<td class="border border-accent-color text-center">1.98</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										2,1
									</td>
									<td class="border border-accent-color text-center">138</td>
									<td class="border border-accent-color text-center">3.00</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										3,1
									</td>
									<td class="border border-accent-color text-center">184</td>
									<td class="border border-accent-color text-center">4.00</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										4,1
									</td>
									<td class="border border-accent-color text-center">232</td>
									<td class="border border-accent-color text-center">5.04</td>
								</tr>
								<tr>
									<td
										class="px-6 py-4 font-medium whitespace-nowrap border border-accent-color"
									>
										5,1
									</td>
									<td class="border border-accent-color text-center">282</td>
									<td class="border border-accent-color text-center">6.13</td>
								</tr>
							</tbody>
							<caption class="text-sm font-medium mb-2 text-left">
								Table 5: The modal frequencies of a dual-membrane bass drum with
								the carry head detuned with respect to the batter head.
							</caption>
						</table>
					</div>
				</div>
				<p>
					A modern kick drum is not exactly like a bass drum. A kick drum which
					evolved from a bass drum is modified specifically for modern music. A
					kick drum does not have 2 complete membranes instead there is a hole
					in the carry head which has several purposes like:
				</p>
				<ul class="list-disc pl-8 space-y-2 mb-2">
					<li>
						Sound control: The hole can be used to place dampening materials
						inside the drum to control the overtones and reduce the sustain
						creating more punchy sound.
					</li>
					<li>
						Microphone placement: Mics can be put in the hole to record the
						sounds better in live performances.
					</li>
					<li>
						Tonal character: The hole changes the acoustics of the drum by
						releasing the air pressure more quickly.
					</li>
				</ul>
				<p>
					Having a hole in the membrane surprisingly does not affect the
					frequencies of the sound much.
					<span class="italic"
						>The frequencies of a kick drum have a harmonic spectrum at lower
						frequencies with a large number of densely packed enharmonic
						frequencies at mid and higher frequencies.</span
					>
					However a drum sound has not only these low frequencies almost
					harmonic components, it generates partials between 250Hz and 1Khz so
					we must also consider this in our synthesis. We can use Frequency
					Modulation to generate the partials. Frequency modulation works by
					having one oscillator (modulator) affect the frequency of the other
					oscillator (carrier). When the modulation happens in the audio range
					(above 20Hz) it creates sidebands i.e. additional frequencies above
					and below the carrier frequency. [More on frequency modulation in a
					different article soon].
					<br />
					Now that we have the frequency content of the sound let's understand
					the amplitude levels of the sound. The amplitude at the lower modes
					are the highest hence loudest and the amplitude decreases rapidly at
					higher modes of vibration producing higher frequency components. So a
					triangle wave or a sawtooth wave will be ideal for the synthesis [more
					on this in different article]. After this there are 2 more components
					that we need to take into account while synthesising the sound: the
					frequency shift and the sound of the beater head 'click'.
					<br />
					The carry head of the kick drum has more freedom to vibrate because of
					the hole in the drum. But what causes the pitch change? Remember, the
					pitch is entirely dependent on the tension of the membrane.
				</p>
				<div class="flex flex-col items-center justify-center">
					<div class="w-full max-w-4xl">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200">
							<!-- Background rectangles -->
							<rect x="20" y="20" width="360" height="60" fill="#f3f4f6" />
							<rect x="20" y="120" width="360" height="60" fill="#f3f4f6" />

							<!-- Labels -->
							<text x="30" y="35" font-size="8">membrane at rest</text>
							<text x="30" y="135" font-size="8">
								membrane struck in the center
							</text>

							<!-- Measurement arrows and text -->
							<line
								x1="50"
								y1="65"
								x2="350"
								y2="65"
								stroke="black"
								marker-end="url(#arrow)"
								marker-start="url(#arrow)"
							/>
							<line
								x1="50"
								y1="165"
								x2="350"
								y2="165"
								stroke="black"
								marker-end="url(#arrow)"
								marker-start="url(#arrow)"
							/>
							<text x="185" y="80" font-size="6">22"</text>
							<text x="180" y="180" font-size="6">22 1/16"</text>

							<!-- Membrane at rest -->
							<line
								x1="50"
								y1="50"
								x2="350"
								y2="50"
								stroke="red"
								stroke-width="2"
							/>
							<rect x="45" y="45" width="10" height="10" fill="black" />
							<rect x="345" y="45" width="10" height="10" fill="black" />

							<!-- Struck membrane (curved line) -->
							<path
								d="M50,150 Q200,170 350,150"
								stroke="red"
								stroke-width="2"
								fill="none"
							/>
							<rect x="45" y="145" width="10" height="10" fill="black" />
							<rect x="345" y="145" width="10" height="10" fill="black" />
						</svg>
					</div>
				</div>
				<p>
					Let's say you have 22 inch membrane drum and you hit it in the center.
					The energy from the hit will displace the center by 1/16th of an inch
					which in turn increases the tension of the membrane. This increase in
					tension is proportional to the square of the displacement. Since the
					pitch is determined by the tension this increases the pitch of the
					modes. This means the pitch of every mode will be higher at the start
					when there is maximum displacement and will drop as the energy
					dissipates from the membrane. The pitch of the drum can shift by a
					couple of semitones from start to finish and we need consider this in
					our synthesis for a more natural drum sound.
				</p>
				<p>
					The click comes from the beater hitting the drumhead which sends a
					shockwave across the membrane of the drum which travel outwards from
					the point of the impact. Due to this several high frequency partials
					are formed for a very less amount of time since high frequencies
					dampen quickly due to the material of the membrane. The stiffness and
					mass of both the beater and the impact point of the drumhead determine
					which higher frequencies get more excited.
				</p>
				<p>
					<br />
					Now that we have know the frequency content and the amplitude levels
					of a bass drum we can think about synthesising the basic sound. To
					model the sound this is what we will do:
				</p>
				<ol class="list-decimal pl-8 space-y-2 mb-5">
					<li>
						have a VCO connected to low pass filter to only allow low
						frequencies which will be connected to a mixer
					</li>
					<li>
						to generate the mid range frequencies an FM setup by having a
						modulator and a carrier connected to a band pass filter going into
						the mixer
					</li>
					<li>
						the output of the mixer being fed into a VCA. this VCA will also be
						modulated by an AR (attack release) contour generator to shape the
						volume of the sound over time. the AR contour generator will also be
						connected to a attenuator which will be connected to the VCO to
						modify its pitch in the attack phase.
					</li>
				</ol>
				<div class="flex items-center justify-center mb-5">
					<figure>
						<picture>
							<img
								src="/assets/kick_drum_patch.webp"
								alt="Kick drum patch diagram"
								loading="lazy"
							/>
						</picture>
						<figcaption class="text-center mt-2">
							Simple kick drum patch
						</figcaption>
					</figure>
				</div>
				<p>
					There's still a component missing from this patch and that is the
					click sound. We can generate the click sound by adding a short burt of
					white noise at the start or use a contour generator to shape the
					spectrum of the partials generated by the FM components. To use the
					latter we can split the band pass filter into a high pass filter and
					low pass filter. Then we can connect an AR contour generator to the
					low pass filter to the cutoff frequency of the low pass filter to
					allow many high frequency components to pass for a very short time.
				</p>
				<div class="flex items-center justify-center mb-5">
					<figure>
						<picture>
							<img
								src="/assets/final_kick_drum_patch.webp"
								alt="Complete kick drum patch diagram"
								loading="lazy"
							/>
						</picture>
						<figcaption class="text-center mt-2">
							Final kick drum patch
						</figcaption>
					</figure>
				</div>
				<p>
					Now that we have the patch ready I will try this out on my Moog Mavis
					synth post the results here soon.
				</p>
				<p class="underline my-5">Update: Patch sound</p>
				<p>
					I am using a Moog Mavis which is a semi modular monophonic analog
					synthesiser. The patch that I have shown above will not work with my
					synth since Mavis is a semi modular synth and essentially uses a
					subtractive synthesis so doing FM synthesis has limitations. But we
					can still make a patch for a drum kick using the following technique:
				</p>
				<div class="flex flex-col gap-8 mb-5">
					<div class="text-center">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 400 200"
							class="md:w-[400px] mx-auto"
						>
							<rect
								x="10"
								y="10"
								width="380"
								height="180"
								rx="20"
								ry="20"
								fill="white"
								stroke="black"
								stroke-width="2"
							/>
							<text
								x="70"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								FOLD IN
							</text>
							<text
								x="300"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								LFO
							</text>
							<path
								d="M90 95 L95 87.3 L105 87.3 L110 95 L105 102.7 L95 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="100" cy="95" r="3" fill="black" />
							<path
								d="M300 95 L305 87.3 L315 87.3 L320 95 L315 102.7 L305 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="310" cy="95" r="3" fill="black" />
							<path
								d="M100 95 C100 95, 205 140, 310 95"
								fill="none"
								stroke="#4CAF50"
								stroke-width="15"
								stroke-linecap="round"
							/>
						</svg>
						<p>Use LFO as the primary oscillator with a triangle wave.</p>
					</div>

					<div class="text-center">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 400 200"
							class="md:w-[400px] mx-auto"
						>
							<rect
								x="10"
								y="10"
								width="380"
								height="180"
								rx="20"
								ry="20"
								fill="white"
								stroke="black"
								stroke-width="2"
							/>
							<text
								x="20"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								AR contour generator
							</text>
							<text
								x="250"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								Attenuator +5
							</text>
							<path
								d="M90 95 L95 87.3 L105 87.3 L110 95 L105 102.7 L95 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="100" cy="95" r="3" fill="black" />
							<path
								d="M300 95 L305 87.3 L315 87.3 L320 95 L315 102.7 L305 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="310" cy="95" r="3" fill="black" />
							<path
								d="M100 95 C100 95, 205 140, 310 95"
								fill="none"
								stroke="#4CAF50"
								stroke-width="15"
								stroke-linecap="round"
							/>
						</svg>
						<p>
							Patch the output of AR contour generator which in this case is the
							Envelop Generator to attenuator +5. Mavis has an attenuator, which
							is like a volume knob for a control voltage. The attenuator output
							then will be patched to the LFO rate.
						</p>
					</div>

					<div>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 400 200"
							class="md:w-[400px] mx-auto"
						>
							<rect
								x="10"
								y="10"
								width="380"
								height="180"
								rx="20"
								ry="20"
								fill="white"
								stroke="black"
								stroke-width="2"
							/>
							<text
								x="20"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								Attenuator
							</text>
							<text
								x="250"
								y="50"
								font-family="Arial"
								font-weight="bold"
								font-size="16"
							>
								LFO Rate
							</text>
							<path
								d="M90 95 L95 87.3 L105 87.3 L110 95 L105 102.7 L95 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="100" cy="95" r="3" fill="black" />
							<path
								d="M300 95 L305 87.3 L315 87.3 L320 95 L315 102.7 L305 102.7 Z"
								fill="none"
								stroke="black"
								stroke-width="2"
							/>
							<circle cx="310" cy="95" r="3" fill="black" />
							<path
								d="M100 95 C100 95, 205 140, 310 95"
								fill="none"
								stroke="#4CAF50"
								stroke-width="15"
								stroke-linecap="round"
							/>
						</svg>
						<p>
							Patch the output of AR contour generator which in this case is the
							Envelop Generator to attenuator +5. Mavis has an attenuator, which
							is like a volume knob for a control voltage. The attenuator output
							then will be patched to the LFO rate.
						</p>
					</div>
				</div>
				<div class="w-full flex justify-center">
					<figure>
						<img
							src="/assets/final_synth_patch.webp"
							alt="Final Mavis synth patch for kick drum"
							loading="lazy"
							class="mx-auto block md:w-1/2"
						/>
						<figcaption class="text-center mt-2">Final patch</figcaption>
					</figure>
				</div>
				<p class="my-8">
					Let's go through the patch and understand what's happening.
					<br />
					When we patch the LFO output to Fold Input we can bypass the default
					VCO of the Mavis and use LFO as the main oscillator. We set the LFO
					rate and wave by using the knobs and setting a frequency for the drum
					sound. For the wave we will use a triangle wave. Then we patch the
					Envelop Generator output to Attenuator input and patch the Attenuator
					output to LFO rate. With this patch once a trigger is applied we are
					using the EG CV to modulate the LFO rate for that instant pitch shift
					in the start. Using the Attenuator knob we can control the amount of
					the CV being used to shift the pitch in the attack phase of the sound.
					<br />
					For the Envelop Generator we will keep the attack to a minimum with
					some decay, very low sustain and a bit of release for the sound. Mavis
					uses a Low Pass Filter to remove the harmonics from the sound and we
					will keep the knob to its lowest to remove most of the higher
					frequencies in the signal.
				</p>

				<div class="w-full flex justify-center">
					<figure>
						<img
							src="/assets/spectral_analysis.png"
							alt="Spectral analysis of the signal"
							loading="lazy"
							class="mx-auto block md:w-1/2"
						/>
						<figcaption class="text-center mt-2">
							Spectral analysis of the signal
						</figcaption>
					</figure>
				</div>
				<div class="mt-8">
					<p>
						Once we use the keyboard on the Mavis to play the sound this is what
						we get:
					</p>
					<div class="flex justify-center">
						<audio controls class="border border-accent-color rounded">
							<source
								src="/assets/unprocessed_kick_drum_demo.wav"
								type="audio/wav"
							/>
						</audio>
					</div>
					<p>
						This gives a simple kick drum sound, nothing fancy just a simple
						sound with some kick drum characteristics. In later articles I'll
						document how we can make this sound better using different sound
						design techniques.
					</p>
				</div>
			</div>
		</main>
		<script src="./main.ts" type="module"></script>
	</body>
</html>
